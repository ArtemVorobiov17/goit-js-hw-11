{"mappings":"mjBAMA,MAAMA,EAAaC,SAASC,cAAc,gBACpCC,EAAQF,SAASC,cAAc,SAC/BE,EAAUH,SAASC,cAAc,YACjCG,EAAcJ,SAASC,cAAc,cACrCI,EAAW,IAAIC,EAAAC,GAAJ,CAAmB,cAkCpCC,eAAeC,EAAQC,EAAOC,GAc5B,KAiBF,SAA0BC,GACxB,MAAMC,EAASD,EACZE,KACC,EAACC,aAAEA,EAAYC,cAAEA,EAAaC,KAAEA,EAAIC,MAAEA,EAAKC,MAAEA,EAAKC,SAAEA,EAAQC,UAAEA,KAC5D,kCAAkCL,sGAEWD,WAAsBE,wIAGjBC,kEACAC,qEACGC,sEACCC,oCAGzDC,KAAK,IACRnB,EAAQoB,mBAAmB,YAAaV,GACxCR,EAASmB,S,CA1BPC,CACEC,SAASC,K,CAGX,MAAOC,GACPC,QAAQD,MAAMA,E,EAxDlB7B,EAAW+B,iBAAiB,UAI5B,SAAsBC,GAClBA,EAAIC,iBAEJrB,KAAO,EACPR,EAAQ8B,UAAY,GAEpB,MAAMvB,EAAQR,EAAMgC,MAAMC,OAE1B,GAAc,KAAVzB,EAKA,OAFAN,EAAYgC,MAAMC,QAAU,OAErB/B,EAAAgC,GAASC,OAAOC,QACnB,4EALJ/B,EAAQC,E,IAZhBN,EAAY0B,iBAAiB,SA+E7B,WACI,MAAMpB,EAAQR,EAAMgC,MAAMC,OAC1BxB,MAAQ,EACRF,EAAQC,EAAOC,K,IAjFnBP,EAAYgC,MAAMC,QAAU","sources":["src/new-index.js"],"sourcesContent":["import axios from 'axios'\nimport Notiflix from \"notiflix\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst searchForm = document.querySelector('#search-form');\nconst input = document.querySelector('input');\nconst gallery = document.querySelector('.gallery');\nconst loadMoreBtn = document.querySelector('.load-more');\nconst lightbox = new SimpleLightbox('.gallery a');\n\nlet pege = 1;\nconst per_page = 40;\n\nsearchForm.addEventListener('submit', onSearchForm);\nloadMoreBtn.addEventListener('click', onLoadMoreBtn);\nloadMoreBtn.style.display = 'none';\n\nfunction onSearchForm(evt) {\n    evt.preventDefault();\n    \n    page = 1;\n    gallery.innerHTML = '';\n\n    const query = input.value.trim();\n\n    if (query !== '') {\n        getUser(query);\n    } else {\n        loadMoreBtn.style.display = 'none';\n\n        return Notiflix.Notify.failure(\n            'Sorry, there are no images matching your search query. Please try again.'\n        );\n    }\n}\n\nfunction onLoadMoreBtn() {\n    const query = input.value.trim();\n    page += 1;\n    getUser(query, page);\n}\n\nasync function getUser(query, page) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  //const KEY = '36025567-5ea91224bccb9b50632c1726a';\n  const options = {\n    params: {\n      key: '36025567-5ea91224bccb9b50632c1726a',\n      q: query,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: 'true',\n      page: page,\n      per_page: per_page,\n    },\n  };\n  try {\n    /*const response = await axios.get(BASE_URL, options);\n\n    alert(\n      response.data.hits.length,\n      response.data.total\n    );*/\n\n    createGalleryImg(\n      response.data\n    );\n\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nfunction createGalleryImg(images) {\n  const markup = images\n    .map(\n      ({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) =>\n        `<a class=\"gallery__item\" href=\"${largeImageURL}\">\n              <div class=\"img-container\">\n                  <img class=\"gallery__image\" src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\"/>\n              </div>\n              <div class=\"info\">\n                  <p class=\"info-item\"><b>Likes</b> <br>${likes}</p>\n                  <p class=\"info-item\"><b>Views</b> <br>${views}</p>\n                  <p class=\"info-item\"><b>Comments</b> <br>${comments}</p>\n                  <p class=\"info-item\"><b>Downloads</b> <br>${downloads}</p>\n              </div></a>`\n    )\n    .join('');\n  gallery.insertAdjacentHTML('beforeend', markup);\n  lightbox.refresh();\n}\n\nfunction onLoadMoreBtn() {\n    const query = input.value.trim();\n    page += 1;\n    getUser(query, page);\n}\n\nfunction alert(length, totalHits) {\n    if (length === 0) {\n        Notiflix.Notify.failure(\n          'Sorry, there are no images matching your search query. Please try again.');\n      \n        return;\n    }\n\n    if (page === 1) {\n        loadMoreBtn.style.display = 'flex';\n        Notiflix.Notify.success(`Hooray! We found ${totalHits} images.`);\n    }\n\n    if (length < 40) {\n        loadMoreBtn.style.display = 'none';\n        Notiflix.Notify.info(\"We're sorry, but you've reached the end of search results.\");\n    }\n}\n"],"names":["$9b3422bd5ba886a9$var$searchForm","document","querySelector","$9b3422bd5ba886a9$var$input","$9b3422bd5ba886a9$var$gallery","$9b3422bd5ba886a9$var$loadMoreBtn","$9b3422bd5ba886a9$var$lightbox","$parcel$interopDefault","$fZKcF","async","$9b3422bd5ba886a9$var$getUser","query","page","images","markup","map","webformatURL","largeImageURL","tags","likes","views","comments","downloads","join","insertAdjacentHTML","refresh","$9b3422bd5ba886a9$var$createGalleryImg","response","data","error","console","addEventListener","evt","preventDefault","innerHTML","value","trim","style","display","$7Y9D8","Notify","failure"],"version":3,"file":"index.a450f155.js.map"}