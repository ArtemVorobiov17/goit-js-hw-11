{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,S,0BAMA,MAAMC,EAAaC,SAASC,cAAc,gBACpCC,EAAQF,SAASC,cAAc,SAC/BE,EAAUH,SAASC,cAAc,YACjCG,EAAcJ,SAASC,cAAc,cACrCI,EAAW,IAAIC,EAAAC,GAAJ,CAAmB,cAkCpCC,eAAeC,EAAQC,EAAOC,GAC5B,MAEMC,EAAU,CACdC,OAAQ,CACNC,IAAK,qCACLC,EAAGL,EACHM,WAAY,QACZC,YAAa,aACbC,WAAY,OACZP,KAAMA,EACNQ,SA1CW,KA6Cf,IACE,MAAMC,QAAiBvB,EAAAwB,QAAMC,IAdd,2BAc4BV,GAE3CW,EACEH,EAASI,KAAKC,KAAKC,OACnBN,EAASI,KAAKG,OAYpB,SAA0BC,GACxB,MAAMC,EAASD,EACZE,KACC,EAACC,aAAEA,EAAYC,cAAEA,EAAaC,KAAEA,EAAIC,MAAEA,EAAKC,MAAEA,EAAKC,SAAEA,EAAQC,UAAEA,KAC5D,kCAAkCL,sGAEWD,WAAsBE,wIAGjBC,kEACAC,qEACGC,sEACCC,oCAGzDC,KAAK,IACRnC,EAAQoC,mBAAmB,YAAaV,GACxCxB,EAASmC,S,CA1BPC,CACErB,EAASI,K,CAGX,MAAOkB,GACPC,QAAQD,MAAMA,E,EA8BlB,SAASnB,EAAMG,EAAQkB,GACJ,IAAXlB,GAOS,IAATf,OACAP,EAAYyC,MAAMC,QAAU,OAC5BxC,EAAAyC,GAASC,OAAOC,QAAQ,oBAAoBL,cAG5ClB,EAAS,KACTtB,EAAYyC,MAAMC,QAAU,OAC5BxC,EAAAyC,GAASC,OAAOE,KAAK,gEAbrB5C,EAAAyC,GAASC,OAAOG,QACd,2E,CAzFVpD,EAAWqD,iBAAiB,UAI5B,SAAsBC,GAClBA,EAAIC,iBAEJ3C,KAAO,EACPR,EAAQoD,UAAY,GAEpB,MAAM7C,EAAQR,EAAMsD,MAAMC,OAE1B,GAAc,KAAV/C,EAKA,OAFAN,EAAYyC,MAAMC,QAAU,OAErBxC,EAAAyC,GAASC,OAAOG,QACnB,4EALJ1C,EAAQC,E,IAZhBN,EAAYgD,iBAAiB,SA+E7B,WACI,MAAM1C,EAAQR,EAAMsD,MAAMC,OAC1B9C,MAAQ,EACRF,EAAQC,EAAOC,K,IAjFnBP,EAAYyC,MAAMC,QAAU","sources":["src/new-index.js"],"sourcesContent":["import axios from 'axios'\nimport Notiflix from \"notiflix\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst searchForm = document.querySelector('#search-form');\nconst input = document.querySelector('input');\nconst gallery = document.querySelector('.gallery');\nconst loadMoreBtn = document.querySelector('.load-more');\nconst lightbox = new SimpleLightbox('.gallery a');\n\nlet pege = 1;\nconst per_page = 40;\n\nsearchForm.addEventListener('submit', onSearchForm);\nloadMoreBtn.addEventListener('click', onLoadMoreBtn);\nloadMoreBtn.style.display = 'none';\n\nfunction onSearchForm(evt) {\n    evt.preventDefault();\n    \n    page = 1;\n    gallery.innerHTML = '';\n\n    const query = input.value.trim();\n\n    if (query !== '') {\n        getUser(query);\n    } else {\n        loadMoreBtn.style.display = 'none';\n\n        return Notiflix.Notify.failure(\n            'Sorry, there are no images matching your search query. Please try again.'\n        );\n    }\n}\n\nfunction onLoadMoreBtn() {\n    const query = input.value.trim();\n    page += 1;\n    getUser(query, page);\n}\n\nasync function getUser(query, page) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  //const KEY = '36025567-5ea91224bccb9b50632c1726a';\n  const options = {\n    params: {\n      key: '36025567-5ea91224bccb9b50632c1726a',\n      q: query,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: 'true',\n      page: page,\n      per_page: per_page,\n    },\n  };\n  try {\n    const response = await axios.get(BASE_URL, options);\n\n    alert(\n      response.data.hits.length,\n      response.data.total\n    );\n\n    createGalleryImg(\n      response.data\n    );\n\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nfunction createGalleryImg(images) {\n  const markup = images\n    .map(\n      ({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) =>\n        `<a class=\"gallery__item\" href=\"${largeImageURL}\">\n              <div class=\"img-container\">\n                  <img class=\"gallery__image\" src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\"/>\n              </div>\n              <div class=\"info\">\n                  <p class=\"info-item\"><b>Likes</b> <br>${likes}</p>\n                  <p class=\"info-item\"><b>Views</b> <br>${views}</p>\n                  <p class=\"info-item\"><b>Comments</b> <br>${comments}</p>\n                  <p class=\"info-item\"><b>Downloads</b> <br>${downloads}</p>\n              </div></a>`\n    )\n    .join('');\n  gallery.insertAdjacentHTML('beforeend', markup);\n  lightbox.refresh();\n}\n\nfunction onLoadMoreBtn() {\n    const query = input.value.trim();\n    page += 1;\n    getUser(query, page);\n}\n\nfunction alert(length, totalHits) {\n    if (length === 0) {\n        Notiflix.Notify.failure(\n          'Sorry, there are no images matching your search query. Please try again.');\n      \n        return;\n    }\n\n    if (page === 1) {\n        loadMoreBtn.style.display = 'flex';\n        Notiflix.Notify.success(`Hooray! We found ${totalHits} images.`);\n    }\n\n    if (length < 40) {\n        loadMoreBtn.style.display = 'none';\n        Notiflix.Notify.info(\"We're sorry, but you've reached the end of search results.\");\n    }\n}\n"],"names":["$2shzp","parcelRequire","$9b3422bd5ba886a9$var$searchForm","document","querySelector","$9b3422bd5ba886a9$var$input","$9b3422bd5ba886a9$var$gallery","$9b3422bd5ba886a9$var$loadMoreBtn","$9b3422bd5ba886a9$var$lightbox","$parcel$interopDefault","$fZKcF","async","$9b3422bd5ba886a9$var$getUser","query","page","options","params","key","q","image_type","orientation","safesearch","per_page","response","default","get","$9b3422bd5ba886a9$var$alert","data","hits","length","total","images","markup","map","webformatURL","largeImageURL","tags","likes","views","comments","downloads","join","insertAdjacentHTML","refresh","$9b3422bd5ba886a9$var$createGalleryImg","error","console","totalHits","style","display","$7Y9D8","Notify","success","info","failure","addEventListener","evt","preventDefault","innerHTML","value","trim"],"version":3,"file":"index.71f135b8.js.map"}