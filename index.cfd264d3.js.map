{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,uCAMMC,EAAaC,SAASC,cAAc,gBACpCC,EAAQF,SAASC,cAAc,SAC/BE,EAAUH,SAASC,cAAc,YACjCG,EAAcJ,SAASC,cAAc,cACrCI,EAAW,IAAIC,EAAAC,GAAJ,CAAmB,c,SAkCrBC,EAAQC,EAAOC,G,OAAfC,EAAOC,MAAAC,KAAAC,U,UAAPH,I,OAAAA,EAAfL,EAAAT,EAAA,CAAAS,EAAAS,GAAAC,MAAA,SAAAC,EAAuBR,EAAOC,G,kEACX,2BAED,CACdQ,OAAQ,CACNC,IAAK,qCACLC,EAAGX,EACHY,WAAY,QACZC,YAAa,aACbC,WAAY,OACZb,KAAMA,EACNc,SA1CW,KA6Cf,IAQEC,EACEC,SAASC,K,CAGX,MAAOC,GACPC,QAAQD,MAAMA,E,6CA3BIhB,MAAAC,KAAAC,U,CA+BtB,SAASW,EAAiBK,GACxB,IAAMC,EAASD,EACZE,KACC,SAAAC,G,IAAGC,EAAYD,EAAZC,aAAcC,EAAaF,EAAbE,cAAeC,EAAIH,EAAJG,KAAMC,EAAKJ,EAALI,MAAOC,EAAKL,EAALK,MAAOC,EAAQN,EAARM,SAAUC,EAASP,EAATO,U,MAC5D,kCAE6CC,OAFXN,EAAc,sGAEmBM,OAAtBP,EAAa,WAGRO,OAHiBL,EAAK,wIAItBK,OADAJ,EAAM,kEAEHI,OADHH,EAAM,qEAEFG,OADDF,EAAS,sEACEE,OAAVD,EAAU,iC,IAGnEE,KAAK,IACRvC,EAAQwC,mBAAmB,YAAaZ,GACxC1B,EAASuC,S,CA7EX7C,EAAW8C,iBAAiB,UAI5B,SAAsBC,GAClBA,EAAIC,iBAEJrC,KAAO,EACPP,EAAQ6C,UAAY,GAEpB,IAAMvC,EAAQP,EAAM+C,MAAMC,OAE1B,GAAc,KAAVzC,EAKA,OAFAL,EAAY+C,MAAMC,QAAU,OAErB9C,EAAA+C,GAASC,OAAOC,QACnB,4EALJ/C,EAAQC,E,IAZhBL,EAAYyC,iBAAiB,SA+E7B,WACI,IAAMpC,EAAQP,EAAM+C,MAAMC,OAC1BxC,MAAQ,EACRF,EAAQC,EAAOC,K,IAjFnBN,EAAY+C,MAAMC,QAAU,M","sources":["src/new-index.js"],"sourcesContent":["import axios from 'axios'\nimport Notiflix from \"notiflix\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst searchForm = document.querySelector('#search-form');\nconst input = document.querySelector('input');\nconst gallery = document.querySelector('.gallery');\nconst loadMoreBtn = document.querySelector('.load-more');\nconst lightbox = new SimpleLightbox('.gallery a');\n\nlet pege = 1;\nconst per_page = 40;\n\nsearchForm.addEventListener('submit', onSearchForm);\nloadMoreBtn.addEventListener('click', onLoadMoreBtn);\nloadMoreBtn.style.display = 'none';\n\nfunction onSearchForm(evt) {\n    evt.preventDefault();\n    \n    page = 1;\n    gallery.innerHTML = '';\n\n    const query = input.value.trim();\n\n    if (query !== '') {\n        getUser(query);\n    } else {\n        loadMoreBtn.style.display = 'none';\n\n        return Notiflix.Notify.failure(\n            'Sorry, there are no images matching your search query. Please try again.'\n        );\n    }\n}\n\nfunction onLoadMoreBtn() {\n    const query = input.value.trim();\n    page += 1;\n    getUser(query, page);\n}\n\nasync function getUser(query, page) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  //const KEY = '36025567-5ea91224bccb9b50632c1726a';\n  const options = {\n    params: {\n      key: '36025567-5ea91224bccb9b50632c1726a',\n      q: query,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: 'true',\n      page: page,\n      per_page: per_page,\n    },\n  };\n  try {\n    /*const response = await axios.get(BASE_URL, options);\n\n    alert(\n      response.data.hits.length,\n      response.data.total\n    );*/\n\n    createGalleryImg(\n      response.data\n    );\n\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nfunction createGalleryImg(images) {\n  const markup = images\n    .map(\n      ({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) =>\n        `<a class=\"gallery__item\" href=\"${largeImageURL}\">\n              <div class=\"img-container\">\n                  <img class=\"gallery__image\" src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\"/>\n              </div>\n              <div class=\"info\">\n                  <p class=\"info-item\"><b>Likes</b> <br>${likes}</p>\n                  <p class=\"info-item\"><b>Views</b> <br>${views}</p>\n                  <p class=\"info-item\"><b>Comments</b> <br>${comments}</p>\n                  <p class=\"info-item\"><b>Downloads</b> <br>${downloads}</p>\n              </div></a>`\n    )\n    .join('');\n  gallery.insertAdjacentHTML('beforeend', markup);\n  lightbox.refresh();\n}\n\nfunction onLoadMoreBtn() {\n    const query = input.value.trim();\n    page += 1;\n    getUser(query, page);\n}\n\nfunction alert(length, totalHits) {\n    if (length === 0) {\n        Notiflix.Notify.failure(\n          'Sorry, there are no images matching your search query. Please try again.');\n      \n        return;\n    }\n\n    if (page === 1) {\n        loadMoreBtn.style.display = 'flex';\n        Notiflix.Notify.success(`Hooray! We found ${totalHits} images.`);\n    }\n\n    if (length < 40) {\n        loadMoreBtn.style.display = 'none';\n        Notiflix.Notify.info(\"We're sorry, but you've reached the end of search results.\");\n    }\n}\n"],"names":["$bpxeT","parcelRequire","$c947422e750e9cab$var$searchForm","document","querySelector","$c947422e750e9cab$var$input","$c947422e750e9cab$var$gallery","$c947422e750e9cab$var$loadMoreBtn","$c947422e750e9cab$var$lightbox","$parcel$interopDefault","$5IjG7","$c947422e750e9cab$var$getUser","query","page","$c947422e750e9cab$var$_getUser","apply","this","arguments","$2TvXO","mark","_callee","params","key","q","image_type","orientation","safesearch","per_page","$c947422e750e9cab$var$createGalleryImg","response","data","error","console","images","markup","map","param","webformatURL","largeImageURL","tags","likes","views","comments","downloads","concat","join","insertAdjacentHTML","refresh","addEventListener","evt","preventDefault","innerHTML","value","trim","style","display","$6JpON","Notify","failure"],"version":3,"file":"index.cfd264d3.js.map"}