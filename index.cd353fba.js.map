{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,oDAMMC,EAAaC,SAASC,cAAc,gBACpCC,EAAQF,SAASC,cAAc,SAC/BE,EAAUH,SAASC,cAAc,YACjCG,EAAcJ,SAASC,cAAc,cACrCI,EAAW,IAAIC,EAAAC,GAAJ,CAAmB,cAEhCC,EAAO,E,SAgCIC,EAAQC,EAAOC,G,OAAfC,EAAOC,MAAAC,KAAAC,U,UAAPH,I,OAAAA,EAAfN,EAAAT,EAAA,CAAAS,EAAAU,GAAAC,MAAA,SAAAC,EAAuBR,EAAOC,G,IAGtBQ,EAYEC,E,wEAdS,2BAEXD,EAAU,CACdE,OAAQ,CACNC,IAAK,qCACLC,EAAGb,EACHc,WAAY,QACZC,YAAa,aACbC,WAAY,OACZC,KAAMhB,EACNiB,SA1CW,K,kBA8CUC,EAAAC,QAAMC,IAdd,2BAc4BZ,G,OAE3Ca,GAFMZ,EAAQa,EAAAC,MAGHC,KAAKC,KAAKC,OACnBjB,EAASe,KAAKG,OAGhBC,EACEnB,EAASe,M,kDAIXK,QAAQC,MAAKR,EAAAS,I,2DA3BK7B,MAAAC,KAAAC,U,CA+BtB,SAASwB,EAAiBI,GACxB,IAAMC,EAASD,EACZE,KACC,SAAAC,G,IAAGC,EAAYD,EAAZC,aAAcC,EAAaF,EAAbE,cAAeC,EAAIH,EAAJG,KAAMC,EAAKJ,EAALI,MAAOC,EAAKL,EAALK,MAAOC,EAAQN,EAARM,SAAUC,EAASP,EAATO,U,MAC5D,kCAE6CC,OAFXN,EAAc,sGAEmBM,OAAtBP,EAAa,WAGRO,OAHiBL,EAAK,wIAItBK,OADAJ,EAAM,kEAEHI,OADHH,EAAM,qEAEFG,OADDF,EAAS,sEACEE,OAAVD,EAAU,iC,IAGnEE,KAAK,IACRpD,EAAQqD,mBAAmB,YAAaZ,GACxCvC,EAASoD,S,CASX,SAASzB,EAAMK,EAAQqB,GACJ,IAAXrB,GAOS,IAAT7B,IACAJ,EAAYuD,MAAMC,QAAU,OAC5BtD,EAAAuD,GAASC,OAAOC,QAAQ,oBAA8BT,OAAVI,EAAU,cAGtDrB,EAAS,KACTjC,EAAYuD,MAAMC,QAAU,OAC5BtD,EAAAuD,GAASC,OAAOE,KAAK,gEAbrB1D,EAAAuD,GAASC,OAAOG,QACd,2E,CAzFVlE,EAAWmE,iBAAiB,UAI5B,SAAsBC,GAClBA,EAAIC,iBAEJ5D,EAAO,EACPL,EAAQkE,UAAY,GAEpB,IAAM3D,EAAQR,EAAMoE,MAAMC,OAE1B,GAAc,KAAV7D,EAKA,OAFAN,EAAYuD,MAAMC,QAAU,OAErBtD,EAAAuD,GAASC,OAAOG,QACnB,4EALJxD,EAAQC,E,IAZhBN,EAAY8D,iBAAiB,SA+E7B,WAGIzD,EAFcP,EAAMoE,MAAMC,OAC1B/D,GAAQ,E,IAhFZJ,EAAYuD,MAAMC,QAAU,M","sources":["src/new-index.js"],"sourcesContent":["import axios from 'axios'\nimport Notiflix from \"notiflix\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst searchForm = document.querySelector('#search-form');\nconst input = document.querySelector('input');\nconst gallery = document.querySelector('.gallery');\nconst loadMoreBtn = document.querySelector('.load-more');\nconst lightbox = new SimpleLightbox('.gallery a');\n\nlet page = 1;\nconst per_page = 40;\n\nsearchForm.addEventListener('submit', onSearchForm);\nloadMoreBtn.addEventListener('click', onLoadMoreBtn);\nloadMoreBtn.style.display = 'none';\n\nfunction onSearchForm(evt) {\n    evt.preventDefault();\n    \n    page = 1;\n    gallery.innerHTML = '';\n\n    const query = input.value.trim();\n\n    if (query !== '') {\n        getUser(query);\n    } else {\n        loadMoreBtn.style.display = 'none';\n\n        return Notiflix.Notify.failure(\n            'Sorry, there are no images matching your search query. Please try again.'\n        );\n    }\n}\n\nfunction onLoadMoreBtn() {\n    const query = input.value.trim();\n    page += 1;\n    getUser(query, page);\n}\n\nasync function getUser(query, page) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  //const KEY = '36025567-5ea91224bccb9b50632c1726a';\n  const options = {\n    params: {\n      key: '36025567-5ea91224bccb9b50632c1726a',\n      q: query,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: 'true',\n      page: page,\n      per_page: per_page,\n    },\n  };\n  try {\n    const response = await axios.get(BASE_URL, options);\n\n    alert(\n      response.data.hits.length,\n      response.data.total\n    );\n\n    createGalleryImg(\n      response.data\n    );\n\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nfunction createGalleryImg(images) {\n  const markup = images\n    .map(\n      ({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) =>\n        `<a class=\"gallery__item\" href=\"${largeImageURL}\">\n              <div class=\"img-container\">\n                  <img class=\"gallery__image\" src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\"/>\n              </div>\n              <div class=\"info\">\n                  <p class=\"info-item\"><b>Likes</b> <br>${likes}</p>\n                  <p class=\"info-item\"><b>Views</b> <br>${views}</p>\n                  <p class=\"info-item\"><b>Comments</b> <br>${comments}</p>\n                  <p class=\"info-item\"><b>Downloads</b> <br>${downloads}</p>\n              </div></a>`\n    )\n    .join('');\n  gallery.insertAdjacentHTML('beforeend', markup);\n  lightbox.refresh();\n}\n\nfunction onLoadMoreBtn() {\n    const query = input.value.trim();\n    page += 1;\n    getUser(query, page);\n}\n\nfunction alert(length, totalHits) {\n    if (length === 0) {\n        Notiflix.Notify.failure(\n          'Sorry, there are no images matching your search query. Please try again.');\n      \n        return;\n    }\n\n    if (page === 1) {\n        loadMoreBtn.style.display = 'flex';\n        Notiflix.Notify.success(`Hooray! We found ${totalHits} images.`);\n    }\n\n    if (length < 40) {\n        loadMoreBtn.style.display = 'none';\n        Notiflix.Notify.info(\"We're sorry, but you've reached the end of search results.\");\n    }\n}\n"],"names":["$bpxeT","parcelRequire","$c947422e750e9cab$var$searchForm","document","querySelector","$c947422e750e9cab$var$input","$c947422e750e9cab$var$gallery","$c947422e750e9cab$var$loadMoreBtn","$c947422e750e9cab$var$lightbox","$parcel$interopDefault","$5IjG7","$c947422e750e9cab$var$page","$c947422e750e9cab$var$getUser","query","page1","$c947422e750e9cab$var$_getUser","apply","this","arguments","$2TvXO","mark","_callee","options","response","params","key","q","image_type","orientation","safesearch","page","per_page","$dIxxU","default","get","$c947422e750e9cab$var$alert","_ctx","sent","data","hits","length","total","$c947422e750e9cab$var$createGalleryImg","console","error","t0","images","markup","map","param","webformatURL","largeImageURL","tags","likes","views","comments","downloads","concat","join","insertAdjacentHTML","refresh","totalHits","style","display","$6JpON","Notify","success","info","failure","addEventListener","evt","preventDefault","innerHTML","value","trim"],"version":3,"file":"index.cd353fba.js.map"}