{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,S,0BAMA,MAAMC,EAAaC,SAASC,cAAc,gBACpCC,EAAQF,SAASC,cAAc,SAC/BE,EAAUH,SAASC,cAAc,YACjCG,EAAcJ,SAASC,cAAc,cACrCI,EAAW,IAAIC,EAAAC,GAAJ,CAAmB,cAEpC,IAAIC,EAAO,EAgCXC,eAAeC,EAAQC,EAAOC,GAC5B,MAEMC,EAAU,CACdC,OAAQ,CACNC,IAAK,qCACLC,EAAGL,EACHM,WAAY,QACZC,YAAa,aACbC,WAAY,OACZC,KAAMR,EACNS,SA1CW,KA6Cf,IACE,MAAMC,QAAiBzB,EAAA0B,QAAMC,IAdd,2BAc4BX,IA0C/C,SAAeY,EAAQC,GACnB,GAAe,IAAXD,EAIA,YAHAnB,EAAAqB,GAASC,OAAOC,QACd,4EAKO,IAATrB,IACAJ,EAAY0B,MAAMC,QAAU,OAC5BzB,EAAAqB,GAASC,OAAOI,QAAQ,oBAAoBN,cAG5CD,EAAS,KACTrB,EAAY0B,MAAMC,QAAU,OAC5BzB,EAAAqB,GAASC,OAAOK,KAAK,8D,CAvDzBC,CACEZ,EAASa,KAAKC,KAAKX,OACnBH,EAASa,KAAKE,OAYpB,SAA0BC,GACxB,MAAMC,EAASD,EACZE,KACC,EAACC,aAAEA,EAAYC,cAAEA,EAAaC,KAAEA,EAAIC,MAAEA,EAAKC,MAAEA,EAAKC,SAAEA,EAAQC,UAAEA,KAC5D,kCAAkCL,sGAEWD,WAAsBE,wIAGjBC,kEACAC,qEACGC,sEACCC,oCAGzDC,KAAK,IACR7C,EAAQ8C,mBAAmB,YAAaV,GACxClC,EAAS6C,S,CA1BPC,CACE7B,EAASa,K,CAGX,MAAOiB,GACPC,QAAQD,MAAMA,E,EAxDlBrD,EAAWuD,iBAAiB,UAI5B,SAAsBC,GAClBA,EAAIC,iBAEJhD,EAAO,EACPL,EAAQsD,UAAY,GAEpB,MAAM9C,EAAQT,EAAMwD,MAAMC,OAE1B,GAAc,KAAVhD,EAKA,OAFAP,EAAY0B,MAAMC,QAAU,OAErBzB,EAAAqB,GAASC,OAAOC,QACnB,4EALJnB,EAAQC,E,IAZhBP,EAAYkD,iBAAiB,SA+E7B,WACI,MAAM3C,EAAQT,EAAMwD,MAAMC,OAC1BnD,GAAQ,EACRE,EAAQC,EAAOH,E,IAjFnBJ,EAAY0B,MAAMC,QAAU","sources":["src/new-index.js"],"sourcesContent":["import axios from 'axios'\nimport Notiflix from \"notiflix\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst searchForm = document.querySelector('#search-form');\nconst input = document.querySelector('input');\nconst gallery = document.querySelector('.gallery');\nconst loadMoreBtn = document.querySelector('.load-more');\nconst lightbox = new SimpleLightbox('.gallery a');\n\nlet page = 1;\nconst per_page = 40;\n\nsearchForm.addEventListener('submit', onSearchForm);\nloadMoreBtn.addEventListener('click', onLoadMoreBtn);\nloadMoreBtn.style.display = 'none';\n\nfunction onSearchForm(evt) {\n    evt.preventDefault();\n    \n    page = 1;\n    gallery.innerHTML = '';\n\n    const query = input.value.trim();\n\n    if (query !== '') {\n        getUser(query);\n    } else {\n        loadMoreBtn.style.display = 'none';\n\n        return Notiflix.Notify.failure(\n            'Sorry, there are no images matching your search query. Please try again.'\n        );\n    }\n}\n\nfunction onLoadMoreBtn() {\n    const query = input.value.trim();\n    page += 1;\n    getUser(query, page);\n}\n\nasync function getUser(query, page) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  //const KEY = '36025567-5ea91224bccb9b50632c1726a';\n  const options = {\n    params: {\n      key: '36025567-5ea91224bccb9b50632c1726a',\n      q: query,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: 'true',\n      page: page,\n      per_page: per_page,\n    },\n  };\n  try {\n    const response = await axios.get(BASE_URL, options);\n\n    alert(\n      response.data.hits.length,\n      response.data.total\n    );\n\n    createGalleryImg(\n      response.data\n    );\n\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nfunction createGalleryImg(images) {\n  const markup = images\n    .map(\n      ({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) =>\n        `<a class=\"gallery__item\" href=\"${largeImageURL}\">\n              <div class=\"img-container\">\n                  <img class=\"gallery__image\" src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\"/>\n              </div>\n              <div class=\"info\">\n                  <p class=\"info-item\"><b>Likes</b> <br>${likes}</p>\n                  <p class=\"info-item\"><b>Views</b> <br>${views}</p>\n                  <p class=\"info-item\"><b>Comments</b> <br>${comments}</p>\n                  <p class=\"info-item\"><b>Downloads</b> <br>${downloads}</p>\n              </div></a>`\n    )\n    .join('');\n  gallery.insertAdjacentHTML('beforeend', markup);\n  lightbox.refresh();\n}\n\nfunction onLoadMoreBtn() {\n    const query = input.value.trim();\n    page += 1;\n    getUser(query, page);\n}\n\nfunction alert(length, totalHits) {\n    if (length === 0) {\n        Notiflix.Notify.failure(\n          'Sorry, there are no images matching your search query. Please try again.');\n      \n        return;\n    }\n\n    if (page === 1) {\n        loadMoreBtn.style.display = 'flex';\n        Notiflix.Notify.success(`Hooray! We found ${totalHits} images.`);\n    }\n\n    if (length < 40) {\n        loadMoreBtn.style.display = 'none';\n        Notiflix.Notify.info(\"We're sorry, but you've reached the end of search results.\");\n    }\n}\n"],"names":["$2shzp","parcelRequire","$9b3422bd5ba886a9$var$searchForm","document","querySelector","$9b3422bd5ba886a9$var$input","$9b3422bd5ba886a9$var$gallery","$9b3422bd5ba886a9$var$loadMoreBtn","$9b3422bd5ba886a9$var$lightbox","$parcel$interopDefault","$fZKcF","$9b3422bd5ba886a9$var$page","async","$9b3422bd5ba886a9$var$getUser","query","page1","options","params","key","q","image_type","orientation","safesearch","page","per_page","response","default","get","length","totalHits","$7Y9D8","Notify","failure","style","display","success","info","$9b3422bd5ba886a9$var$alert","data","hits","total","images","markup","map","webformatURL","largeImageURL","tags","likes","views","comments","downloads","join","insertAdjacentHTML","refresh","$9b3422bd5ba886a9$var$createGalleryImg","error","console","addEventListener","evt","preventDefault","innerHTML","value","trim"],"version":3,"file":"index.b261da0f.js.map"}